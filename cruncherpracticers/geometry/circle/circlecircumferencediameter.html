<!DOCTYPE html>
<html>
<body>
  <head>
    <link rel="shortcut icon" href="avocado.ico" type="image/x-icon">
    <title>Circumference of a Circle</title>
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <link rel="stylesheet" href="style.css">
</head>
  <h1 id="questiontext">Problem:</h1>
<div style="text-align:center;"><p id="questionp"><span id="question"></span></p></div>
<br><div style="text-align:center;"><input id="inputtest" placeholder="Enter answer here"></div>
<br><div style="text-align:center;height:20%;"><button id="checkbtn" class="w3-button w3-round-large" onclick="buttonfn()">Check answer</button></div>
<p style="margin:auto;border-width:5px;border-color:darkseagreen;border-style:double;border-radius:15px;width:50%;padding:10px;margin-top:30px;text-align:center;"><span class="timespan">Time: </span><span id="time" class="timespan"></span></p>
<p class="scorestreak" id="score" style="margin:auto;margin-top:5%;"></p>
<p class="scorestreak" id="streak" style="margin:auto;"></p>
<script>
  document.addEventListener("keydown", function(event) {
  if (event.keyCode == 13) {
     buttonfn();
   } else if (event.keyCode == 220) {
     window.history.back()
   }
});
if (localStorage.getItem("circle-circumference-diameter-score") === null) {
    localStorage.setItem("circle-circumference-diameter-score", "")
} else {
    null
}
if (localStorage.getItem("circle-circumference-diameter-streak") === null) {
    localStorage.setItem("circle-circumference-diameter-streak", "")
} else {
    null
}
var time = 0;
var getscore = window.localStorage.getItem("circle-circumference-diameter-score");
var scorelength = getscore.length;
var currentscore = window.localStorage.getItem("circle-circumference-diameter-score");
var getstreak = window.localStorage.getItem("circle-circumference-diameter-streak");
var streaklength = getstreak.length;
var currentstreak = window.localStorage.getItem("circle-circumference-diameter-streak");
document.getElementById("score").innerHTML = "Current Score: " + scorelength;
document.getElementById("streak").innerHTML = "Current Streak: " + streaklength;
  setInterval(function(){
time+=.250;
document.getElementById("time").innerHTML = time;
}, 250)
var numbero = Math.floor(Math.random() * 30);
document.getElementById("question").innerHTML = "What is the circumference of a circle with a diameter of " + numbero + "? (Use 3.14 as estimation)"
var total1 = numbero * 3.14
var total = total1.toString();
function buttonfn() {
  clearInterval();
  var inputv = document.getElementById("inputtest").value;
if (inputv === total) {
  var addedscore = currentscore += 1;
  window.localStorage.removeItem("circle-circumference-diameter-score");
  window.localStorage.setItem("circle-circumference-diameter-score", addedscore);
  var addedstreak = currentstreak += 1;
  window.localStorage.removeItem("circle-circumference-diameter-streak");
  window.localStorage.setItem("circle-circumference-diameter-streak", addedstreak);
  window.location.reload()
} else if (inputv === "$score%clear") {
  window.localStorage.removeItem("circle-circumference-diameter-score");
  window.localStorage.setItem("circle-circumference-diameter-score", "");
  window.location.reload();
} else if (inputv === "$streak%clear") {
  window.localStorage.removeItem("circle-circumference-diameter-streak");
  window.localStorage.setItem("circle-circumference-diameter-streak", "");
  window.location.reload();
} else {
alert("Your Answer is incorrect, streak lost!");
window.localStorage.removeItem("circle-circumference-diameter-streak");
window.localStorage.setItem("circle-circumference-diameter-streak", "");
window.location.reload();
};
}
</script>
</body>
</html>